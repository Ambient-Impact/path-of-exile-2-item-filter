{% import 'macros/sound.' + itemFilter.templateExtension as sound with context -%}
{% import 'macros/tiered_scheme.' + itemFilter.templateExtension as tieredScheme with context -%}
{% import 'macros/utilities.' + itemFilter.templateExtension as utilities -%}

# E tier before any others to ensure these don't get sounds, item beams, nor map
# icons.
Show
  BaseType        "Scroll of Wisdom"
  {{ tieredScheme.output('currency', 'e') }}

Show
  Class             Currency
  CustomAlertSoundOptional "{{ sound.output('currency') }}"
  Continue

# S tier.
Show
  Class             Currency
  BaseType          {{ utilities.quotedSequence([
    'Catalyst',
    'Concentrated Liquid Fear',
    'Concentrated Liquid Isolation',
    'Concentrated Liquid Suffering',
    'Divine Orb',
    'Essence of Delirium',
    'Essence of Horror',
    'Essence of Hysteria',
    'Essence of Insanity',
    'Fracturing Orb',
    'Mirror of Kalandra',
    'Orb of Annulment',
    'Perfect Essence',
    'Perfect Jeweller\'s Orb',
  ]) }}
  {{ tieredScheme.output('currency', 's') }}
  PlayEffect          Yellow
  MinimapIcon         0 Yellow Star

# A tier.
Show
  Class             Currency
  BaseType          {{ utilities.quotedSequence([
    'Chance Shard',
    'Chaos Orb',
    'Essence of Delirium',
    'Essence of Horror',
    'Essence of Hysteria',
    'Essence of Insanity',
    'Gemcutter\'s Prism',
    'Gold Key',
    'Greater Essence',
    'Greater Jeweller\'s Orb',
    'Liquid Despair',
    'Liquid Disgust',
    'Liquid Envy',
    'Liquid Paranoia',
    'Orb of Chance',
  ]) }}
  {{ tieredScheme.output('currency', 'a') }}
  PlayEffect        Yellow
  MinimapIcon       1 Yellow Circle

# Same as above. Omens are a different item class however so they need a
# separate rule.
Show
  Class             Omen
  {{ tieredScheme.output('currency', 'a') }}
  PlayEffect        Yellow
  MinimapIcon       1 Yellow Circle

# C tier. This needs to be before B tier for Lesser Essence.
Show
  Class             Currency
  BaseType          {{ utilities.quotedSequence([
    'Lesser Essence',
  ]) }}
  {{ tieredScheme.output('currency', 'c') }}
  PlayEffect        Brown Temp
  MinimapIcon       2 Yellow Circle

# B tier.
Show
  Class             Currency
  BaseType          {{ utilities.quotedSequence([
    'Arcanist\'s Etcher',
    'Black Scythe Artifact',
    'Broken Circle Artifact',
    'Bronze Key',
    'Diluted Liquid Greed',
    'Diluted Liquid Guilt',
    'Diluted Liquid Ire',
    'Essence',
    'Exalted Orb',
    'Exotic Coinage',
    'Glassblower\'s Bauble',
    'Lesser Jeweller\'s Orb',
    'Orb of Alchemy',
    'Order Artifact',
    'Regal Orb',
    'Regal Shard',
    'Silver Key',
    'Sun Artifact',
    'Vaal Orb',
  ]) }}
  {{ tieredScheme.output('currency', 'b') }}
  PlayEffect        Brown
  MinimapIcon       1 Yellow Circle

# Small stacks of gold in endgame have no map icon nor a drop sound.
Show
  AreaLevel         >= {{ itemFilter.levels.endgameStart }}
  Class             Currency
  BaseType          "Gold"
  StackSize         < 150
  MinimapIcon       -1
  CustomAlertSound  "None"

# Larger stacks of gold displayed as B tier.
Show
  Class             Currency
  BaseType          "Gold"
  StackSize         >= 1500
  {{ tieredScheme.output('currency', 'b') }}
  PlayEffect        Brown
  MinimapIcon       1 Yellow Circle
Show
  Class             Currency
  BaseType          "Gold"
  StackSize         >= 750
  {{ tieredScheme.output('currency', 'c') }}
  PlayEffect        Brown
  MinimapIcon       1 Yellow Circle

# Fallback for gold not matched by any of the above.
Show
  Class             Currency
  BaseType          "Gold"
  PlayEffect        Brown Temp
  MinimapIcon       2 Yellow Circle

# Everything else is D tier.
Show
  Class             Currency
  {{ tieredScheme.output('currency', 'd') }}
  PlayEffect        Brown Temp
  MinimapIcon       2 Yellow Circle
